<!-- templates/search_results.html -->
<h1>Search Results</h1>

{% load static %}
{% load extras %}
<link rel="stylesheet" type="text/css" href="{% static 'search_for_transcript/style.css' %}">
 

<div>
  <div>
    <form method="GET" action="{% url 'search_results' %}">
        <div class="search_results">
            <input type="text" class="searchTerm" placeholder="{{ query }}" name="q">
            <input type="submit" class="searchButton">
        </div>
    </form>
  </div>
  <br><br>
  <div class='show_total_occurances'>
    {{ count }}
  </div>
</div>
  
  
  
  <!-- 
  <form action="/">
    <button class="submit-button right_align" >Search again</button>
  </form> -->

<div class='main_search_results'>
  {% for countq, episode, text_short in ep_countq_trans %}
  <div class ="show_results">
    <div class='link_sgu_website'>
      <a href="{{ episode.link_to_podcast }}"> {{ episode.link_to_podcast }}</a>
    </div>
      <div class = "episode_number_result">
        <h1 class = "episode_number_result"> Episode #{{ episode.episode_number }}</h1>
      </div>
      <div class='show_occurances'>
        Found {{ countq }} occurrences
      </div>
      <br>
      <div class='short_text'>
        {{ text_short }}
      </div>
      <div class='center_buttons bouncy'>
        <button class='submit-button' onClick="location='{{ episode.link_to_podcast }}'">
          Show on SGU website
        </button>
        <button class='submit-button' onClick="location='{{ episode.link_to_mp3 }}'">
          Download/Listen
        </button>
          <!-- <input type=button onClick="location='{{ episode.link_to_mp3 }}'" value='Download/Listen'> -->
        <button class='submit-button' onClick="parent.location='transcript/{{ episode.episode_number }}/ {{ query }}'">
          Show full transcript
        </button>
      </div>
    </div>
    {% endfor %}
  </div>
</div>


<div class="pagination">
  <span class="step-links">
      {% if page_obj.has_previous %}
          <a href="?{% url_replace request 'page' 1 %}">&laquo; first</a>
          <a href="?{% url_replace request 'page' page_obj.previous_page_number %}">previous</a>
      {% endif %}

      <span class="current">
          Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
      </span>

      {% if page_obj.has_next %}
          <a href="?{% url_replace request 'page' page_obj.next_page_number %}">next</a>
          <a href="?{% url_replace request 'page' page_obj.paginator.num_pages %}">last &raquo;</a>
      {% endif %}
  </span>
</div>

